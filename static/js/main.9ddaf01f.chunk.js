(this["webpackJsonpstore-finder"]=this["webpackJsonpstore-finder"]||[]).push([[0],{22:function(n,e,t){},28:function(n,e,t){"use strict";t.r(e);var r=t(1),o=t(0),i=t.n(o),c=t(10),a=t.n(c),u=(t(22),t(2)),s=t(3);function l(){var n=Object(u.a)(["\n    gap: 1em 0;\n    width: 100%;\n    display: block;\n    @media screen and (min-width: 900px) {\n        display:grid;\n        grid-template-rows: minmax(4em, max-content) 1fr;\n        grid-template-columns: 3fr 5fr;\n        height: 100vh;\n    }\n"]);return l=function(){return n},n}var d=s.a.div(l()),f=t(4),b=t(16),j=t(15),v=Object(o.createContext)(null),O=function(n){var e=n.children,t=Object(o.useState)(!1),i=Object(f.a)(t,2),c=i[0],a=i[1];return Object(o.useEffect)((function(){if(!c){new j.a(Object(b.a)({apiKey:"AIzaSyCyocMMzml9i_X277lau2pfS5VhTlYpEoA",version:"beta"},{mapIds:["4705e028c2e7eae3"]})).load().then((function(){a(!0)}))}}),[c,a]),Object(r.jsx)(v.Provider,{value:{loaded:c},children:e})},p=t(8),h=t.n(p),x=t(14),m=Object(o.createContext)(void 0),g=function(n){var e=n.children,t=Object(o.useState)(),i=Object(f.a)(t,2),c=i[0],a=i[1];return Object(o.useEffect)((function(){function n(){return(n=Object(x.a)(h.a.mark((function n(){var e,t;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api_mock/locations.json");case 2:return e=n.sent,n.next=5,e.json();case 5:t=n.sent,a(t);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}try{!function(){n.apply(this,arguments)}()}catch(e){console.error(e)}}),[a]),Object(r.jsx)(m.Provider,{value:c,children:e})},y=Object(o.createContext)(void 0),C=function(n){var e=n.children,t=(Object(o.useContext)(m)||{locations:[]}).locations,i=Object(o.useState)(t),c=Object(f.a)(i,2),a=c[0],u=c[1];return Object(o.useEffect)((function(){u(t)}),[t,u]),Object(r.jsx)(y.Provider,{value:{filteredLocations:a,setFilteredLocations:u},children:e})},w=Object(o.createContext)(void 0),k=function(n){var e=n.children,t=Object(o.useState)(void 0),i=Object(f.a)(t,2),c=i[0],a=i[1];return Object(r.jsx)(w.Provider,{value:{activeLocation:c,setActiveLocation:a},children:e})},L=function(n){var e=n.children;return Object(r.jsx)(O,{children:Object(r.jsx)(g,{children:Object(r.jsx)(k,{children:Object(r.jsx)(C,{children:e})})})})};function S(){var n=Object(u.a)(["\n    ","\n    border-bottom: 1px solid #d59563;\n\n    option {\n        color: inherit;\n        background: #444;\n    }\n"]);return S=function(){return n},n}function E(){var n=Object(u.a)(["\n    ","\n    border-bottom: 1px solid #d59563;\n"]);return E=function(){return n},n}function A(){var n=Object(u.a)(["\n    display: block;\n    font-size: 75%;\n    flex: 0 0 80px;\n    text-align: right;\n"]);return A=function(){return n},n}function z(){var n=Object(u.a)(["\n    display: flex;\n    align-items: baseline;\n    flex: 1 1 auto;\n    gap: .5em;\n    margin: .5em 0;\n    input, select {\n        flex: 1 1 auto;\n    }\n"]);return z=function(){return n},n}function P(){var n=Object(u.a)(["\n    flex: 0 1 auto;\n    background: none;\n    color: #d59563;\n    font-size: 75%;\n    border: 2px solid #d59563;\n    border-radius: 6px;\n    padding: 0.25em .5em;\n    cursor: pointer;\n    &:hover, &:focus {\n        border-color: #d59563;\n        background-color: #d59563;\n        color: #333;\n    }\n    & + & {\n        margin-left: .5em;\n    }\n"]);return P=function(){return n},n}function F(){var n=Object(u.a)(["\n    display: block;\n    width: 80%;\n    margin: auto;\n"]);return F=function(){return n},n}var I=s.a.form(F()),M=s.a.button(P()),T=s.a.label(z()),B=s.a.span(A()),Z="\n    line-height: inherit;\n    color: #fff;\n    background: transparent;\n    display: block;\n    border: none;\n    cursor: pointer;\n",D=s.a.input(E(),Z),J=s.a.select(S(),Z),N=function(){var n=Object(o.useState)(""),e=Object(f.a)(n,2),t=e[0],i=e[1],c=Object(o.useState)(""),a=Object(f.a)(c,2),u=a[0],s=a[1],l=Object(o.useContext)(m),d=Object(o.useContext)(y),b=Object(o.useContext)(w),j=(Object(o.useContext)(m)||{}).tags;return Object(r.jsxs)(I,{onSubmit:function(n){var e;n.preventDefault(),u||t||null===d||void 0===d||d.setFilteredLocations((null===l||void 0===l?void 0:l.locations)||[]);null===b||void 0===b||b.setActiveLocation(void 0),null===d||void 0===d||d.setFilteredLocations((null===l||void 0===l||null===(e=l.locations)||void 0===e?void 0:e.filter((function(n){var e;return!(u&&!(null===(e=n.tags)||void 0===e?void 0:e.includes(u)))&&(!t||-1!==n.name.indexOf(t)||-1!==n.address.indexOf(t)||-1!==n.description.indexOf(t))})))||[])},children:[Object(r.jsxs)(T,{children:[Object(r.jsx)(B,{className:"label-text",children:"Search:"}),Object(r.jsx)(D,{type:"text",name:"search-term",placeholder:"Term to search",value:t,onChange:function(n){i(n.target.value)}})]}),Object(r.jsxs)(T,{children:[Object(r.jsx)(B,{className:"label-text",children:"Category:"}),Object(r.jsxs)(J,{name:"tag",onChange:function(n){s(n.target.value)},value:u,disabled:!j||j.length<1,children:[Object(r.jsx)("option",{children:"Please select:"}),null===j||void 0===j?void 0:j.map((function(n,e){return Object(r.jsx)("option",{value:n.id,children:n.name},e)}))]})]}),Object(r.jsx)(M,{type:"submit",children:"Submit"}),Object(r.jsx)(M,{type:"reset",onClick:function(n){i(""),s(""),null===d||void 0===d||d.setFilteredLocations((null===l||void 0===l?void 0:l.locations)||[])},children:"Reset"})]})};function R(){var n=Object(u.a)(["\n    font-size: 50%;\n    border-radius: 2px;\n    border: 1px solid currentColor;\n    padding: 0.2em 0.5em;\n    font-weight: 400;\n"]);return R=function(){return n},n}function _(){var n=Object(u.a)(["\n    display: flex;\n    gap: 0.1em;\n"]);return _=function(){return n},n}function K(){var n=Object(u.a)(["\n    font-size: calc(12 / 18 * 100%);\n    text-transform: uppercase;\n    font-weight: 400;\n    margin: 0 0 0.25em;\n    text-decoration: underline;\n"]);return K=function(){return n},n}function V(){var n=Object(u.a)(["\n    display: block;\n    flex: 1 1 50%;    \n    color: #fff;\n"]);return V=function(){return n},n}function X(){var n=Object(u.a)(["\n    white-space: pre;\n"]);return X=function(){return n},n}function Y(){var n=Object(u.a)(["\n    cursor: default;\n    display: flex;\n    align-items: flex-start;\n    font-size: 75%;\n    gap: .5em;\n    margin-top: 1em;\n"]);return Y=function(){return n},n}function q(){var n=Object(u.a)(["\n    display: block;\n    width: 100%;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    font-size: 100%;\n    margin: 0 ;\n"]);return q=function(){return n},n}function G(){var n=Object(u.a)(["\n    display: block;\n    height: 1.5rem;\n    width: 1.5rem;\n    background: none;\n    border: none;\n    position: relative;\n    color: inherit;\n    cursor: pointer;\n    &:hover, &:focus{\n        color: #f2f2f2;\n    }\n    &::before{\n        content: '';\n        display: block;\n        width: 40%;\n        height: 40%;\n        position: absolute;\n        left: 50%;\n        top: 50%;\n        border-right: 2px solid currentColor;\n        border-bottom: 2px solid currentColor;\n        transition: transform 0.2s;\n        transform:  ",";\n    }\n"]);return G=function(){return n},n}function H(){var n=Object(u.a)(["\n    display: flex;\n"]);return H=function(){return n},n}function Q(){var n=Object(u.a)(["\n    cursor: pointer;\n"]);return Q=function(){return n},n}var U=s.a.article(Q()),W=s.a.div(H()),$=s.a.button(G(),(function(n){return n.active?"translate(-50%, -50%) rotate(45deg)":"translate(-50%, -50%) rotate(-45deg)"})),nn=s.a.h1(q()),en=s.a.div(Y()),tn=s.a.address(X()),rn=s.a.div(V()),on=s.a.h2(K()),cn=s.a.div(_()),an=s.a.span(R()),un=function(n){var e=n.location,t=n.setActive,i=n.isActive,c=Object(o.useContext)(m),a=e.name,u=e.description,s=e.address,l=e.tags,d=l&&(null===c||void 0===c?void 0:c.tags)&&(null===l||void 0===l?void 0:l.map((function(n){var e;return null===(e=c.tags.find((function(e){return e.id===n})))||void 0===e?void 0:e.name})));return Object(r.jsxs)(U,{onClick:t,children:[Object(r.jsxs)(W,{children:[Object(r.jsx)(nn,{children:a}),Object(r.jsx)($,{active:i})]}),d&&d.length>0&&Object(r.jsx)(cn,{children:d.map((function(n,e){return Object(r.jsx)(an,{children:n},e)}))}),i&&Object(r.jsxs)(en,{onClick:function(n){return n.stopPropagation()},children:[Object(r.jsxs)(rn,{children:[Object(r.jsx)(on,{children:"Description"}),u]}),Object(r.jsxs)(rn,{children:[Object(r.jsx)(on,{children:"Address"}),Object(r.jsx)(tn,{children:s})]})]})]})};function sn(){var n=Object(u.a)(["\n    display: block;\n    margin: 1em 0;\n    border-left: .2em solid currentColor;\n    padding: 0 .5em 0 .3em;\n"]);return sn=function(){return n},n}function ln(){var n=Object(u.a)(["\n    list-style: none;\n    padding: 0;\n"]);return ln=function(){return n},n}function dn(){var n=Object(u.a)(["\n    overflow-y: auto;\n    padding: 0;\n    margin: 0;\n    border-top: .2em solid #38414e;\n"]);return dn=function(){return n},n}var fn=s.a.ul(dn()),bn=s.a.ul(ln()),jn=s.a.li(sn()),vn=function(){var n=(Object(o.useContext)(y)||{}).filteredLocations,e=Object(o.useContext)(w)||{},t=e.activeLocation,i=e.setActiveLocation;return Object(r.jsx)(fn,{children:Object(r.jsx)(bn,{children:null===n||void 0===n?void 0:n.map((function(n){return Object(r.jsx)(jn,{children:Object(r.jsx)(un,{isActive:n.id===t,setActive:function(){var e;(e=n.id)&&i&&i(e===t?void 0:e)},location:n})},n.id)}))})})};function On(){var n=Object(u.a)(["\n    display: block;\n    height 45vw;\n    @media screen and (min-width: 900px) {\n        height: 100%;\n        grid-row: 1 / 3;\n        grid-column: 2;\n    }\n"]);return On=function(){return n},n}var pn=s.a.div(On()),hn=function(){var n=Object(o.useContext)(v),e=(Object(o.useContext)(y)||{}).filteredLocations,t=Object(o.useContext)(w)||{},i=t.activeLocation,c=t.setActiveLocation,a=Object(o.useState)(void 0),u=Object(f.a)(a,2),s=u[0],l=u[1],d=Object(o.useState)(void 0),b=Object(f.a)(d,2),j=b[0],O=b[1],p=Object(o.useRef)(null);return Object(o.useEffect)((function(){p.current&&(null===n||void 0===n?void 0:n.loaded)&&l(new google.maps.Map(p.current,{mapId:"4705e028c2e7eae3",center:{lat:-33,lng:151},zoom:8,zoomControl:!1}))}),[n,p,l]),Object(o.useEffect)((function(){if(s){var n=null===e||void 0===e?void 0:e.map((function(n){var e=n.lat,t=n.lng;return new google.maps.Marker({position:{lat:e,lng:t},map:s})}));O(n)}}),[s,e]),Object(o.useEffect)((function(){if(j&&s&&c&&e){var n=new google.maps.LatLngBounds;return j.forEach((function(e){var t=e.getPosition();t&&n.extend(t)})),s.fitBounds(n),s.setZoom(Math.min(s.getZoom()-1,15)),j.forEach((function(n,t){n.addListener("click",(function(n){e&&console.log(e[t]),c&&c(e[t].id)}))})),function(){j.forEach((function(n){google.maps.event.clearInstanceListeners(n)}))}}}),[s,j,e,c]),Object(o.useEffect)((function(){if(e&&s&&"undefined"!==typeof i&&j){var n=e.findIndex((function(n){return n.id===i}));if("undefined"!==typeof n){var t=j[n].getPosition();t&&(s.panTo(t),s.getZoom()<12&&s.setZoom(12))}}}),[s,i,j,e]),Object(r.jsx)(pn,{ref:p})},xn=function(){return Object(r.jsx)("div",{id:"store-finder-app",children:Object(r.jsx)(L,{children:Object(r.jsxs)(d,{children:[Object(r.jsx)(N,{}),Object(r.jsx)(hn,{}),Object(r.jsx)(vn,{})]})})})},mn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,29)).then((function(e){var t=e.getCLS,r=e.getFID,o=e.getFCP,i=e.getLCP,c=e.getTTFB;t(n),r(n),o(n),i(n),c(n)}))};a.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(xn,{})}),document.getElementById("root")),mn()}},[[28,1,2]]]);
//# sourceMappingURL=main.9ddaf01f.chunk.js.map